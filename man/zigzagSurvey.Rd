% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/surveyPlanning.R
\name{zigzagSurvey}
\alias{zigzagSurvey}
\title{Generate a coordinate list for a zig-zag survey}
\usage{
zigzagSurvey(
  startLon,
  startLat,
  lineLengthkm,
  startBearingdeg,
  rotationdeg,
  numOfLines,
  planar_epsg = 6932,
  unrotated = FALSE
)
}
\arguments{
\item{startLon}{Numeric. Starting longitude of the survey (decimal degrees).}

\item{startLat}{Numeric. Starting latitude of the survey (decimal degrees).}

\item{lineLengthkm}{Numeric. Length of each transect line in kilometres.}

\item{startBearingdeg}{Numeric. Bearing of the first transect in degrees.}

\item{rotationdeg}{Numeric. Rotation angle (degrees) applied to the entire survey
pattern. Positive values rotate counter-clockwise.}

\item{numOfLines}{Integer. Number of transects.}

\item{planar_epsg}{Integer. EPSG code of a projected coordinate reference system
(units in metres) used internally for rotation. Default is 6932
(Cylindrical Equal Area as used in \code{CCAMLRGIS}).}

\item{unrotated}{Logical. If \code{FALSE} (default), return only rotated coordinates.
If \code{TRUE}, return a list containing both rotated and unrotated coordinates.}
}
\value{
If \code{unrotated = FALSE}, a numeric matrix with columns
  \code{lon} and \code{lat} giving the geographic coordinates of the start and end
  points of each transect.

  If \code{unrotated = TRUE}, a list with elements:
  \describe{
    \item{unrotatedGeogs}{Matrix of unrotated geographic coordinates}
    \item{rotatedGeogs}{Matrix of rotated geographic coordinates}
  }
}
\description{
Generates a zig-zag survey track as a sequence of geographic
coordinates (longitude/latitude, decimal degrees). Transect lengths are specified
in kilometres and bearings in degrees, where North = 0°, East = 90° etc.
}
\details{
Survey geometry is constructed in geographic coordinates (WGS84; EPSG:4326).
If a non-zero rotation is requested \code{rotationdeg}, the full survey pattern 
is projected to a planar coordinate reference system (default EPSG:6932, metres), 
rotated about the first point, and then transformed back to geographic coordinates for output.
NB \code{planar_epsg} can be used to define the planar coordinate system.
}
\examples{
\dontrun{
coords <- zigzagSurvey(
  startLon = -100,
  startLat = -60,
  lineLengthkm = 2,
  startBearingdeg = 30,
  rotationdeg = 10,
  numOfLines = 11
)

plot(0, 0,
     xlim = range(coords[,1]),
     ylim = range(coords[,2]),
     type = "n",
     xlab = "Longitude, deg",
     ylab = "Latitude, deg")

arrows(coords[-nrow(coords),1], coords[-nrow(coords),2],
       coords[-1,1], coords[-1,2])

points(coords[1,1],coords[1,2],col='blue',pch=17,cex=2)
points(coords[nrow(coords),1],coords[nrow(coords),2],col='blue',pch=15,cex=2)
legend('topleft',c('Beginning','End'),col='blue',pch=c(17,15))
coordL <- zigzagSurvey(
  startLon = -100,
  startLat = -60,
  lineLengthkm = 2,
  startBearingdeg = 30,
  rotationdeg = 10,
  numOfLines = 11,
  unrotated = TRUE
)

plot(0, 0,
      xlim = range(coordL$rotatedGeogs[,1]),
     ylim = range(coordL$rotatedGeogs[,2]),
     type = "n",
     xlab = "Longitude, deg",
     ylab = "Latitude, deg")
arrows(coordL$rotatedGeogs[-nrow(coordL$rotatedGeogs),1], 
 coordL$rotatedGeogs[-nrow(coordL$rotatedGeogs),2],
       coordL$rotatedGeogs[-1,1], 
       coordL$rotatedGeogs[-1,2])
points(coordL$rotatedGeogs[1,1],
 coordL$rotatedGeogs[1,2],col='blue',pch=17,cex=2)
points(coordL$rotatedGeogs[nrow(coordL$rotatedGeogs),1],
 coordL$rotatedGeogs[nrow(coordL$rotatedGeogs),2],
 col='blue',pch=15,cex=2)
legend('topleft',c('Beginning','End'),col='blue',pch=c(17,15))
}
}
\seealso{
\link{zigzagSurvey}
}
\author{
Martin Cox \email{martin.cox@aad.gov.au}
}

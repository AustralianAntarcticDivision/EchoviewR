<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started with EchoviewR • EchoviewR</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting started with EchoviewR">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EchoviewR</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.1.13</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Getting%20Started.html">Getting started with EchoviewR</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/AustralianAntarcticDivision/EchoviewR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Getting started with EchoviewR</h1>
                        <h4 class="author">Sven Gastauer</h4>
            
            <h4 class="date">2018-11-01</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/AustralianAntarcticDivision/EchoviewR/blob/master/vignettes/Getting%20Started.Rmd"><code>vignettes/Getting Started.Rmd</code></a></small>
      <div class="hidden name"><code>Getting Started.Rmd</code></div>

    </div>

    
    
<div id="echoviewr" class="section level1">
<h1 class="hasAnchor">
<a href="#echoviewr" class="anchor"></a>EchoviewR</h1>
<p><code>EchoviewR</code> is an R package, distributed freely via <a href="https://github.com/AustralianAntarcticDivision/EchoviewR">GitHub</a>. <code>EchoviewR</code> allows the user to easily access and automate some of the functionality included in <a href="https://www.echoview.com/">Echoview</a> through simplification of <a href="https://support.echoview.com/WebHelp/How_to/Run_Echoview_using_scripts/Automation_using_COM_objects/Scripting_with_COM_objects.htm">COM scripting</a>.<br>
Main benefits of EchoviewR:</p>
<ul>
<li>Automated processing of large amount of data files<br>
</li>
<li>Easy template sharing<br>
</li>
<li>Standardisation of processing methods<br>
</li>
<li>Integration of Echoview funcitonality into R</li>
</ul>
<p><code>EchoviewR</code> is not a replacement for <em>Echoview</em>, on the contrary, in order to be able to use EchoviewR you will have to have Echoview installed on your local machine with a valid user licence including the scripting module.</p>
<p>For more information on EchoviewR, please refer to the <a href="https://www.frontiersin.org/articles/10.3389/fmars.2015.00015/full">original paper introducing <em>EchoviewR</em></a></p>
<div id="help-and-support" class="section level3">
<h3 class="hasAnchor">
<a href="#help-and-support" class="anchor"></a>Help and Support</h3>
<p>If you need help with a specific <code>EchoviewR</code> function, generally it is a good idea to check the description. The help for any function within EchoviewR can be accessed within R (for example help about the bottom detection function can be accessed as <code><a href="../reference/EVBottomDetection.html">?EVBottomDetection</a></code>).<br><code>EchoviewR</code> contains some vignettes, acting as extended documentation. Vigenettes are best viewed in a browser (e.g. Chromium, Opera, Firefox or Chrome). To browse vignettes in your preferred browser use:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">browseVignettes</span>(<span class="st">"EchoviewR"</span>)</code></pre></div>
<p>If you need further support or are missing some functionality in <code>EchoviewR</code>, please comment or make a feature erquest on <a href="https://github.com/AustralianAntarcticDivision/EchoviewR">GitHub</a>.</p>
</div>
<div id="copyright-and-licence" class="section level3">
<h3 class="hasAnchor">
<a href="#copyright-and-licence" class="anchor"></a>Copyright and Licence</h3>
<p>Copyright (C) 2015 Lisa-Marie Harrison, Martin Cox, Georg Skaret, Sven Gastauer and Rob Harcourt.</p>
<pre><code>EchoviewR is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

EchoviewR is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with EchoviewR.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
This package is open for community development and we encourage users 
to extend the package as they need. We are not liable for any losses 
when using EchoviewR.</code></pre>
<p>If using EchoviewR, please cite as:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">citation</span>(<span class="st">"EchoviewR"</span>)</code></pre></div>
<pre><code>## 
## To cite EchoviewR in publications use:
## 
##   Harrison LK, Cox MJ, Skaret G and Harcourt R (2015). The {R}
##   package EchoviewR for automated processing of active acoustic
##   data using Echoview. Frontiers in Marine Science, 2:15, doi:
##   10.3389/fmars.2015.00015
## 
## A BibTeX entry for LaTeX users is
## 
##   @Article{,
##     title = {The R package EchoviewR for automated processing of active acoustic data using Echoview},
##     author = {Lisa-Marie K Harrison and Martin J Cox and Georg Skaret and Robert Harcourt},
##     journal = {Frontiers in Marine Science},
##     year = {2015},
##     volume = {2},
##     number = {15},
##     doi = {10.3389/fmars.2015.00015},
##   }</code></pre>
</div>
<div id="installing-echoviewr" class="section level2">
<h2 class="hasAnchor">
<a href="#installing-echoviewr" class="anchor"></a>Installing EchoviewR</h2>
<p>At the moment of writing, <code>EchoviewR</code> has a few dependencies:</p>
<ul>
<li>(<code>sp</code>)[<a href="https://cran.r-project.org/web/packages/sp/index.html" class="uri">https://cran.r-project.org/web/packages/sp/index.html</a>] - Adding more spatial functionality to the package<br>
</li>
<li>(<code>geosphere</code>)[<a href="https://cran.r-project.org/package=geosphere" class="uri">https://cran.r-project.org/package=geosphere</a>] - For improved distance calculations<br>
</li>
<li>(<code>devtools</code>)[<a href="https://cran.r-project.org/package=devtools" class="uri">https://cran.r-project.org/package=devtools</a>] - To install packages from GitHub</li>
<li>(<code>maptools</code>)[<a href="https://cran.r-project.org/package=maptools" class="uri">https://cran.r-project.org/package=maptools</a>] - More spatial funcitonality<br>
</li>
<li>(<code>RDCOMClient</code>)[<a href="https://github.com/omegahat/RDCOMClient" class="uri">https://github.com/omegahat/RDCOMClient</a>] - Enable COM communication through R<br>
</li>
<li>(<code>lubridate</code>)[<a href="https://cran.r-project.org/web/packages/lubridate/vignettes/lubridate.html" class="uri">https://cran.r-project.org/web/packages/lubridate/vignettes/lubridate.html</a>] - Improved date manipulations</li>
</ul>
<p>Packages sp, geosphere, maptools and lubridate can be directly installed from CRAN. We will use a simple function to check if the packages are installed and loaded. If this is not the case, the packages will be installed and loaded:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Make sure package is installed and loaded</span>
packagecheck &lt;-<span class="st"> </span><span class="cf">function</span>(package){
  <span class="cf">if</span>(<span class="op">!</span>package <span class="op">%in%</span><span class="st"> </span><span class="kw">installed.packages</span>()){<span class="kw">install.packages</span>(package, <span class="dt">dependencies=</span><span class="ot">TRUE</span>)}
  <span class="kw">require</span>(package,<span class="dt">character.only =</span> <span class="ot">TRUE</span>)
}

<span class="co">#Now we can check if the packages are isntalled</span>
packagelist &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">'sp'</span>,<span class="st">'geosphere'</span>,<span class="st">'maptools'</span>,<span class="st">'lubridate'</span>,<span class="st">'devtools'</span>)
<span class="kw">apply</span>(<span class="kw">as.matrix</span>(packagelist),<span class="dv">1</span>,<span class="cf">function</span>(x)<span class="kw">packagecheck</span>(x))</code></pre></div>
<p><code>RDCOMClient</code> has to be installed through GitHub, via Omegahat:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"omegahat/RDCOMClient"</span>)
<span class="kw">require</span>(RDCOMClient)</code></pre></div>
<p>Once all the dependencies have been satisfied <code>EchoviewR</code> can be installed:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">'AustralianAntarcticDivision/EchoviewR'</span>)
<span class="kw">require</span>(EchoviewR)</code></pre></div>
<div id="installing-a-specific-version-of-echoviewr" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-a-specific-version-of-echoviewr" class="anchor"></a>Installing a specific version of EchoviewR</h3>
<p>If you want to use a previous verison of EchoviewR (for example v1.0):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">'AustralianAntarcticDivision/EchoviewR'</span>, <span class="dt">ref=</span><span class="st">'v1.0'</span>)</code></pre></div>
</div>
<div id="installing-echoviewr-behind-a-proxy" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-echoviewr-behind-a-proxy" class="anchor"></a>Installing EchoviewR behind a proxy</h3>
<p>If you are behind a proxy, you will have to set the proxy settings first, before installing packages via GitHub in R:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">packagecheck</span>(<span class="st">"httr"</span>)
<span class="kw">set_config</span>(<span class="kw">use_proxy</span>(<span class="dt">url=</span>PROXYURL, <span class="dt">port=</span>PORT, <span class="dt">username=</span>USERNAME,<span class="dt">password=</span>PASSWORD))</code></pre></div>
<p>Once the proxy is set, you should be able to use <code>install_github()</code> from the <code>devtools</code> package.</p>
</div>
</div>
<div id="starting-and-quitting-echoview" class="section level2">
<h2 class="hasAnchor">
<a href="#starting-and-quitting-echoview" class="anchor"></a>Starting and quitting Echoview</h2>
<p>Once EchoviewR is installed, you can start and quit Echoview from within R:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Create an Echoview application object and start Echoview</span>
EVApp &lt;-<span class="st"> </span><span class="kw"><a href="../reference/StartEchoview.html">StartEchoview</a></span>()

<span class="co">#Quit the application again</span>
<span class="kw"><a href="../reference/QuitEchoview.html">QuitEchoview</a></span>(EVApp)</code></pre></div>
</div>
<div id="basic-functionality" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-functionality" class="anchor"></a>Basic Functionality</h2>
<div id="creating-a-new-file" class="section level3">
<h3 class="hasAnchor">
<a href="#creating-a-new-file" class="anchor"></a>Creating a new file</h3>
<p>Generally the first step is to either create a new empty file, create a new file based on a template, or open an existing EV File:</p>
<ul>
<li>Create a new empty EV file</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#First start Echoview</span>
EVApp &lt;-<span class="st"> </span><span class="kw"><a href="../reference/StartEchoview.html">StartEchoview</a></span>()

<span class="co">#Create a new empty file inside our Echoview object EVApp</span>
EVFile &lt;-<span class="st"> </span><span class="kw"><a href="../reference/EVNewFile.html">EVNewFile</a></span>(EVApp)<span class="op">$</span>EVFile

<span class="co">#Close the file</span>
<span class="kw"><a href="../reference/EVCloseFile.html">EVCloseFile</a></span>(EVFile)

<span class="co">#Quit Echoview </span>
<span class="kw"><a href="../reference/QuitEchoview.html">QuitEchoview</a></span>(EVApp)</code></pre></div>
<ul>
<li>Create a new EV file based on a template<br>
In order to create a new EV file based on a template, we have to tell EchoviewR within which Echoview application object (here EVApp) we want to create the new EV file and where the template is located on our local machine (templatefn=TemplateFilename)</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 1) Start Echoview</span>
<span class="co"># 2) Create a new file based on a template (TemplateFilename)</span>
<span class="co"># 3) Save the EV file as OutputFilenam</span>
<span class="co"># 4) Close the file</span>
<span class="co"># 5) Quit Echoview</span>

<span class="co">#Set the tempalte filename</span>
TemplateFilename =<span class="st"> "temp.EV"</span>
<span class="co">#Set the output filename</span>
OutputFilename =<span class="st"> "NewFile.EV"</span>

<span class="co">#Start Echoview</span>
EVApp &lt;-<span class="st"> </span><span class="kw"><a href="../reference/StartEchoview.html">StartEchoview</a></span>()

<span class="co">#Create a new file based on the template TemplateFilename</span>
EVFile &lt;-<span class="st"> </span><span class="kw"><a href="../reference/EVNewFile.html">EVNewFile</a></span>(EVApp, <span class="dt">templateFn =</span> TemplateFilename)<span class="op">$</span>EVFile

<span class="co">#Save the file under a new name</span>
<span class="kw"><a href="../reference/EVSaveAsFile.html">EVSaveAsFile</a></span>(<span class="dt">EVFile =</span> EVFile, <span class="dt">fileName =</span> OutputFilename)

<span class="co">#Close the file</span>
<span class="kw"><a href="../reference/EVCloseFile.html">EVCloseFile</a></span>(EVFile)

<span class="co">#Quit Echoview </span>
<span class="kw"><a href="../reference/QuitEchoview.html">QuitEchoview</a></span>(EVApp)</code></pre></div>
</div>
<div id="open-an-existing-ev-file" class="section level3">
<h3 class="hasAnchor">
<a href="#open-an-existing-ev-file" class="anchor"></a>Open an existing EV file</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">EVFILENAME =<span class="st"> "TestEv.EV"</span>

<span class="co">#Start Echoview</span>
EVApp &lt;-<span class="st"> </span><span class="kw"><a href="../reference/StartEchoview.html">StartEchoview</a></span>()

<span class="co">#Open the EV File</span>
<span class="kw"><a href="../reference/EVOpenFile.html">EVOpenFile</a></span>(<span class="dt">EVAppObj =</span> EVApp, <span class="dt">fileName =</span> EVFILENAME)

<span class="co">#Save the file</span>
<span class="kw"><a href="../reference/EVSaveFile.html">EVSaveFile</a></span>(<span class="dt">EVFile =</span> EVFile)

<span class="co">#Close the file</span>
<span class="kw"><a href="../reference/EVCloseFile.html">EVCloseFile</a></span>(EVFile)

<span class="co">#Quit Echoview </span>
<span class="kw"><a href="../reference/QuitEchoview.html">QuitEchoview</a></span>(EVApp)</code></pre></div>
</div>
<div id="clear-raw-data-from-the-fileset" class="section level3">
<h3 class="hasAnchor">
<a href="#clear-raw-data-from-the-fileset" class="anchor"></a>Clear raw data from the fileset</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/EVClearRawData.html">EVClearRawData</a></span>(EVFile, <span class="dt">filesetName =</span> fsetname)</code></pre></div>
</div>
<div id="add-raw-data" class="section level3">
<h3 class="hasAnchor">
<a href="#add-raw-data" class="anchor"></a>Add raw data</h3>
<p>Often analysing acoustic data requires the processing of a lot of raw files. Handling such vast amounts of data (multiple gigbytes to terabytes) can be a dawning task. Even with current computaitonal power and software capabilities, it is often a wise idea to process files in multiple steps rather than all at once. If en Echoview template for processing the data is available, the different raw files can be snet to Echoview in a loop. Before we can start the loop, we need to know the filenames and location of the raw files.</p>
<div id="gather--raw-files" class="section level4">
<h4 class="hasAnchor">
<a href="#gather--raw-files" class="anchor"></a>Gather .raw files</h4>
<ul>
<li>Define the folder where the raw files are located</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rawDir &lt;-<span class="st"> "blabla"</span></code></pre></div>
<ul>
<li>Get all raw files from a folder</li>
</ul>
<p>We can get all the files of a certain pattern from a folder using the <code>list.files</code> function, contained within R base. Here we set <code>path</code> to the previously defined <code>rawDir</code>, the options <code>full.names=TRUE</code> to include the path, and pattern as <code>glob2rx(".*raw")</code> to only include files strictly matching <em>.raw</em> i.e. not including <em>.raw.evi</em>.</p>
<p>If more raw files are inside subfolders of <code>rawDir</code>, the option <code>recursive</code> should be set to <code>TRUE</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">raws &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="dt">path=</span>rawDir, <span class="dt">pattern=</span><span class="kw">glob2rx</span>(<span class="st">"*.raw"</span>), <span class="dt">full.names =</span> <span class="ot">TRUE</span>, <span class="dt">recursive =</span> <span class="ot">FALSE</span>)</code></pre></div>
<ul>
<li>Get all raw files from a list of folders</li>
</ul>
<p>If raw files are inside multiple folder we can create a vector containing all the folders and wrap the previously used function to get the raw files from a single folder into an <code>apply</code> function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rawDirs &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"folder1"</span>,<span class="st">"folder2"</span>)
raws &lt;-<span class="st"> </span><span class="kw">unlist</span>(<span class="kw">apply</span>(<span class="kw">as.matrix</span>(rawdirs),<span class="dv">1</span>,<span class="cf">function</span>(x) <span class="kw">list.files</span>(<span class="dt">path=</span>x, <span class="dt">pattern=</span><span class="kw">glob2rx</span>(<span class="st">"*.raw"</span>), <span class="dt">full.names =</span> <span class="ot">TRUE</span>)))</code></pre></div>
</div>
<div id="adding-raw-files" class="section level4">
<h4 class="hasAnchor">
<a href="#adding-raw-files" class="anchor"></a>Adding raw files</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/EVAddRawData.html">EVAddRawData</a></span>(<span class="dt">EVFile =</span> EVFile, <span class="dt">filesetName =</span> fsetname, <span class="dt">dataFiles =</span> raws)</code></pre></div>
</div>
</div>
<div id="selecting-variables" class="section level3">
<h3 class="hasAnchor">
<a href="#selecting-variables" class="anchor"></a>Selecting Variables</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Select Sv raw as EVVar</span>
EVVar &lt;-<span class="st"> </span><span class="kw"><a href="../reference/EVAcoVarNameFinder.html">EVAcoVarNameFinder</a></span>(EVFile,<span class="st">"070: Sv pings T1"</span>)<span class="op">$</span>EVVar</code></pre></div>
</div>
<div id="running-a-bottom-detection" class="section level3">
<h3 class="hasAnchor">
<a href="#running-a-bottom-detection" class="anchor"></a>Running a bottom detection</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Run bottom detection</span>
bottom &lt;-<span class="st"> </span><span class="kw"><a href="../reference/EVBottomDetection.html">EVBottomDetection</a></span>(<span class="dt">EVVar =</span> EVVar,
                            <span class="dt">EVFile =</span> EVFile,
                            <span class="dt">LineName =</span> <span class="st">"Maximum Sv"</span>, 
                            <span class="dt">StopDepth =</span> <span class="dv">150</span>, 
                            <span class="dt">StartDepth =</span> <span class="dv">5</span>,
                            <span class="dt">algorithm =</span> <span class="dv">2</span>,
                            <span class="dt">MinSv =</span> <span class="op">-</span><span class="dv">50</span>,
                            <span class="dt">DiscriminationLevel =</span> <span class="op">-</span><span class="dv">45</span>,
                            <span class="dt">BackstepRange =</span> <span class="op">-</span><span class="fl">1.50</span>)</code></pre></div>
</div>
<div id="running-a-school-detection" class="section level3">
<h3 class="hasAnchor">
<a href="#running-a-school-detection" class="anchor"></a>Running a school detection</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/EVSchoolsDetect.html">EVSchoolsDetect</a></span>(<span class="dt">EVFile =</span> EVFile,
               <span class="dt">acoVarName=</span><span class="st">'70 kHz Speed &gt; 2.5'</span>,
               <span class="dt">outputRegionClassName =</span> <span class="st">'agg'</span>,
               <span class="dt">deleteExistingRegions =</span> <span class="ot">TRUE</span>,
               <span class="dt">distanceMode =</span> <span class="st">"GPS distance"</span>,
               <span class="dt">maximumHorizontalLink =</span> <span class="dv">10</span>, <span class="co">#m</span>
               <span class="dt">maximumVerticalLink =</span> <span class="dv">2</span>,<span class="co">#m</span>
               <span class="dt">minimumCandidateHeight =</span> <span class="dv">1</span>, <span class="co">#m</span>
               <span class="dt">minimumCandidateLength =</span> <span class="dv">3</span>, <span class="co">#m</span>
               <span class="dt">minimumSchoolHeight =</span> <span class="dv">1</span>, <span class="co">#m</span>
               <span class="dt">minimumSchoolLength =</span> <span class="dv">3</span>, <span class="co">#m</span>
               <span class="dt">dataThreshold =</span> <span class="op">-</span><span class="dv">70</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Export Aggregation information</span>
<span class="kw"><a href="../reference/EVIntegrationByRegionsExport.html">EVIntegrationByRegionsExport</a></span>(<span class="dt">EVFile =</span> EVFile, <span class="dt">acoVarName =</span> <span class="st">"Aggregation mask"</span>, 
                             <span class="dt">regionClassName=</span><span class="st">'agg'</span>,
                             <span class="dt">exportFn=</span><span class="kw">paste0</span>(evex,<span class="kw">basename</span>(rawdirs[<span class="dv">1</span>]),<span class="st">'_AGG.csv'</span>),
                             <span class="dt">dataThreshold =</span><span class="op">-</span><span class="dv">80</span>)

<span class="co">#Export Aggregations @ a resolution of 200 m x 5 m</span>

<span class="co">#Change grid</span>
<span class="kw"><a href="../reference/EVChangeVariableGrid.html">EVChangeVariableGrid</a></span>(<span class="dt">EVFile=</span>EVFile, 
                     <span class="dt">acoVarName =</span> <span class="st">"Aggregation mask"</span>, 
                     <span class="dt">timeDistanceGridType=</span><span class="dv">5</span>,
                     <span class="dt">timeDistanceGridDistance =</span> <span class="dv">200</span>,
                     <span class="dt">depthGridType=</span><span class="dv">1</span>,
                     <span class="dt">depthGridDistance =</span> <span class="dv">5</span>)
<span class="co">#Export </span>
<span class="kw"><a href="../reference/EVExportIntegrationByCells.html">EVExportIntegrationByCells</a></span>(<span class="dt">EVFile=</span>EVFile, <span class="dt">variableName=</span><span class="st">'Aggregation mask'</span>, 
                             <span class="dt">filePath=</span><span class="kw">paste0</span>(evex, <span class="kw">basename</span>(rawdirs[<span class="dv">1</span>]),<span class="st">'_INT.csv'</span>))
<span class="co">#export seabed</span>
<span class="kw"><a href="../reference/EVExportLineAsCSV.html">EVExportLineAsCSV</a></span>(<span class="dt">EVFile=</span>EVFile, <span class="dt">acoVarName=</span><span class="st">'Aggregation mask'</span>,
                    <span class="dt">lineName=</span><span class="st">'Surface Exclusion Threshold'</span>,
                    <span class="dt">filePath=</span><span class="kw">paste0</span>(evex,<span class="kw">basename</span>(rawdirs[<span class="dv">1</span>]),<span class="st">'_seabed.csv'</span>,<span class="dt">sep=</span><span class="st">''</span>))
  
<span class="co">#export gps</span>
<span class="kw"><a href="../reference/EVExportUnderlying.html">EVExportUnderlying</a></span>(<span class="dt">EVFile=</span>EVFile, <span class="dt">variableName=</span><span class="st">'070: position GPS fixes'</span>, 
                     <span class="dt">pingRange =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>), 
                     <span class="dt">filePath=</span><span class="kw">paste0</span>(evex,<span class="kw">basename</span>(rawdirs[<span class="dv">1</span>]),<span class="st">'_GPS.csv'</span>,<span class="dt">sep=</span><span class="st">''</span>))

<span class="kw"><a href="../reference/EVSaveAsFile.html">EVSaveAsFile</a></span>(EVFile,<span class="kw">paste0</span>(<span class="kw">paste0</span>(evex,<span class="st">"Montague_"</span>,<span class="kw">basename</span>(rawdirs[<span class="dv">1</span>]),<span class="st">'.EV'</span>,<span class="dt">sep=</span><span class="st">''</span>)))

<span class="co">#Quit Echoview</span>
<span class="kw"><a href="../reference/QuitEchoview.html">QuitEchoview</a></span>(EVApp)</code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#echoviewr">EchoviewR</a><ul class="nav nav-pills nav-stacked">
<li><a href="#installing-echoviewr">Installing EchoviewR</a></li>
      <li><a href="#starting-and-quitting-echoview">Starting and quitting Echoview</a></li>
      <li><a href="#basic-functionality">Basic Functionality</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Martin Cox, Sven Gastauer, Lisa-Marie Harrison.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
